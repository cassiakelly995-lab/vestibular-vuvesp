<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNESP Study Hub ‚Äî Exatas & Humanidades</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=JetBrains+Mono:wght@400;600&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#08080f;--bg2:#0f0f1a;--bg3:#16162a;--bg4:#1e1e35;
  --border:#2a2a45;--border2:#3d3d60;
  --text:#f0ecff;--muted:#7070a8;--dim:#3a3a5a;
  --accent:#7c5cfc;--accent2:#b47cfc;--accent3:#5c3cdc;
  --gold:#f0b429;--gold2:#ffd060;
  --green:#22c55e;--red:#ef4444;--cyan:#06b6d4;--pink:#ec4899;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:"Plus Jakarta Sans",sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}
body::before{content:"";position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(ellipse 70% 40% at 15% 15%,rgba(124,92,252,.07) 0%,transparent 60%),
  radial-gradient(ellipse 50% 30% at 85% 85%,rgba(240,180,41,.05) 0%,transparent 60%)}

/* HEADER */
.hdr{position:sticky;top:0;z-index:200;background:rgba(8,8,15,.93);backdrop-filter:blur(24px);border-bottom:1px solid var(--border)}
.hdr-in{max-width:1440px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:60px;gap:12px}
.logo{display:flex;align-items:center;gap:10px}
.logo-icon{width:34px;height:34px;border-radius:9px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0}
.logo-name{font-family:"Playfair Display",serif;font-size:18px;color:var(--text);line-height:1}
.logo-tag{font-size:10px;color:var(--muted);font-family:"JetBrains Mono",monospace;margin-top:2px}
.hdr-stats{display:flex;gap:7px;flex-wrap:wrap}
.stat-pill{background:var(--bg3);border:1px solid var(--border);border-radius:20px;padding:4px 11px;font-size:11px;color:var(--muted);font-family:"JetBrains Mono",monospace;white-space:nowrap}
.stat-pill span{color:var(--accent2)}

/* NAV */
.nav{background:rgba(15,15,26,.8);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);position:sticky;top:60px;z-index:190;overflow-x:auto}
.nav-in{max-width:1440px;margin:0 auto;display:flex;padding:0 24px;gap:2px}
.nav-btn{background:none;border:none;border-bottom:2px solid transparent;color:var(--muted);padding:13px 16px;cursor:pointer;font-size:13px;font-family:"Plus Jakarta Sans",sans-serif;font-weight:600;white-space:nowrap;transition:all .2s;display:flex;align-items:center;gap:6px}
.nav-btn:hover{color:var(--text)}
.nav-btn.active{color:var(--accent2);border-bottom-color:var(--accent)}

/* MAIN */
.main{max-width:1440px;margin:0 auto;padding:22px 24px}
.tab{display:none}.tab.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.tab.active{animation:fadeIn .25s ease}

/* FILTROS */
.filters-bar{display:flex;gap:7px;flex-wrap:wrap;margin-bottom:14px;align-items:center}
.filters-label{font-size:10px;color:var(--muted);font-family:"JetBrains Mono",monospace;text-transform:uppercase;letter-spacing:.5px;margin-right:4px;white-space:nowrap}
.filt{background:var(--bg3);border:1px solid var(--border);border-radius:20px;padding:4px 13px;cursor:pointer;font-size:12px;font-weight:600;font-family:inherit;transition:all .2s;color:var(--muted)}
.filt:hover{border-color:var(--border2);color:var(--text)}
.filt.on{color:#fff}
.diff-bar{display:flex;gap:5px}
.diff-btn{background:var(--bg3);border:1px solid var(--border);border-radius:6px;padding:4px 11px;cursor:pointer;font-size:11px;font-weight:700;font-family:"JetBrains Mono",monospace;transition:all .2s;color:var(--muted)}
.diff-btn.on[data-d="0"]{background:var(--bg4);border-color:var(--border2);color:var(--text)}
.diff-btn.on[data-d="1"]{background:rgba(34,197,94,.15);border-color:#22c55e;color:#22c55e}
.diff-btn.on[data-d="2"]{background:rgba(240,180,41,.15);border-color:var(--gold);color:var(--gold)}
.diff-btn.on[data-d="3"]{background:rgba(239,68,68,.15);border-color:var(--red);color:var(--red)}

/* CARDS */
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:13px}
.card{background:var(--bg3);border:1px solid var(--border);border-radius:13px;padding:17px;cursor:pointer;transition:all .3s;min-height:125px;position:relative;overflow:hidden}
.card::before{content:"";position:absolute;inset:0;opacity:0;transition:opacity .3s;background:linear-gradient(135deg,rgba(124,92,252,.08),transparent);pointer-events:none}
.card:hover::before,.card.flip::before{opacity:1}
.card:hover{border-color:var(--border2);transform:translateY(-2px)}
.card.flip{border-color:rgba(124,92,252,.45);box-shadow:0 6px 24px rgba(124,92,252,.14)}
.card-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:9px;gap:6px;flex-wrap:wrap}
.stag{border-radius:7px;padding:2px 8px;font-size:10px;font-weight:700;letter-spacing:.2px}
.diff-tag{border-radius:5px;padding:2px 7px;font-size:10px;font-weight:700;font-family:"JetBrains Mono",monospace}
.d1{background:rgba(34,197,94,.12);color:#22c55e}
.d2{background:rgba(240,180,41,.12);color:var(--gold)}
.d3{background:rgba(239,68,68,.12);color:var(--red)}
.card-q{font-size:13px;line-height:1.55;color:var(--text);font-weight:600;margin-bottom:5px}
.card-hint{font-size:11px;color:var(--dim);font-style:italic}
.card-ans{display:none;border-top:1px solid var(--border);padding-top:9px;margin-top:7px;font-size:12px;line-height:1.7;color:#b0a8d0}
.card.flip .card-ans{display:block}
.card.flip .card-hint{display:none}
.card-ok{position:absolute;top:10px;right:10px;font-size:13px;opacity:.75}

/* QUIZ */
.quiz-wrap{max-width:700px;margin:0 auto}
.quiz-header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
.quiz-prog{flex:1;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.quiz-prog-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:2px;transition:width .4s}
.quiz-meta{display:flex;gap:14px;font-size:11px;font-family:"JetBrains Mono",monospace;white-space:nowrap}
.ok-c{color:#22c55e}.err-c{color:var(--red)}
.quiz-box{background:var(--bg3);border:1px solid var(--border);border-radius:15px;padding:26px;margin-bottom:14px}
.quiz-box-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;flex-wrap:wrap;gap:8px}
.quiz-src{font-size:10px;color:var(--dim);font-family:"JetBrains Mono",monospace}
.quiz-q{font-size:15px;line-height:1.65;color:var(--text);font-weight:600}
.opts{display:flex;flex-direction:column;gap:9px}
.opt{background:var(--bg2);border:1px solid var(--border);color:var(--text);border-radius:9px;padding:12px 16px;text-align:left;cursor:pointer;font-family:inherit;font-size:13px;line-height:1.45;transition:all .2s}
.opt:hover:not(:disabled){border-color:var(--accent);background:rgba(124,92,252,.09)}
.opt.ok{background:rgba(34,197,94,.11);border-color:#22c55e;color:#86efac;font-weight:700}
.opt.err{background:rgba(239,68,68,.11);border-color:var(--red);color:#fca5a5;font-weight:700}
.opt:disabled{cursor:default}
.quiz-exp{background:rgba(34,197,94,.05);border:1px solid rgba(34,197,94,.22);border-radius:9px;padding:14px;margin:11px 0;font-size:12px;color:#86efac;line-height:1.7}
.quiz-exp strong{color:#22c55e}
.btn{background:linear-gradient(135deg,var(--accent),var(--accent3));color:#fff;border:none;border-radius:9px;padding:11px 22px;font-size:14px;font-weight:700;cursor:pointer;font-family:inherit;transition:all .2s}
.btn:hover{transform:translateY(-1px);box-shadow:0 5px 18px rgba(124,92,252,.38)}
.btn:disabled{background:var(--dim);cursor:not-allowed;transform:none;box-shadow:none}
.btn-full{width:100%}
.btn-sec{background:var(--bg4);border:1px solid var(--border2);color:var(--muted);border-radius:7px;padding:5px 13px;cursor:pointer;font-family:inherit;font-size:12px;transition:all .2s}
.btn-sec:hover{border-color:var(--accent);color:var(--text)}
.quiz-done{text-align:center;padding:44px 28px;background:var(--bg3);border:1px solid var(--border);border-radius:15px}
.quiz-done-emoji{font-size:60px;margin-bottom:14px;line-height:1}
.quiz-done h2{font-family:"Playfair Display",serif;font-size:26px;color:var(--text);margin-bottom:8px}
.quiz-done .score{font-size:44px;font-weight:900;font-family:"JetBrains Mono",monospace;margin:8px 0}
.quiz-done p{color:var(--muted);margin-bottom:22px;font-size:13px}

/* REDA√á√ÉO */
.essay-wrap{max-width:840px;margin:0 auto}
.essay-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:22px}
@media(max-width:620px){.essay-grid{grid-template-columns:1fr}}
.essay-card{background:var(--bg3);border:1px solid var(--border);border-radius:13px;padding:18px;cursor:pointer;transition:all .2s}
.essay-card:hover{border-color:var(--accent);transform:translateY(-2px)}
.essay-card h4{color:var(--text);font-size:13px;line-height:1.5;margin-bottom:7px}
.essay-card p{color:var(--muted);font-size:11px;line-height:1.55}
.etag{display:inline-block;margin-bottom:9px;font-size:10px;font-weight:700;border-radius:5px;padding:2px 8px}
.essay-top{display:flex;align-items:center;gap:10px;margin-bottom:16px;flex-wrap:wrap}
.tip-box{background:rgba(124,92,252,.07);border:1px solid rgba(124,92,252,.18);border-radius:11px;padding:14px 17px;margin-bottom:13px;font-size:13px;color:var(--muted);line-height:1.7}
.tip-box strong{color:var(--accent2)}
.comp-box{background:var(--bg3);border:1px solid var(--border);border-radius:9px;padding:11px 15px;margin-bottom:11px;display:flex;flex-wrap:wrap;gap:7px;align-items:center;font-size:11px;color:var(--muted)}
.comp-tag{background:var(--bg4);border:1px solid var(--border2);border-radius:5px;padding:2px 8px;font-size:11px;font-weight:600;color:var(--dim)}
textarea{width:100%;min-height:300px;background:var(--bg3);border:1px solid var(--border);border-radius:11px;padding:18px;color:var(--text);font-size:14px;line-height:1.75;font-family:"Plus Jakarta Sans",sans-serif;resize:vertical;outline:none;transition:border-color .2s}
textarea:focus{border-color:var(--accent)}
.essay-footer{display:flex;justify-content:space-between;align-items:center;margin-top:11px;flex-wrap:wrap;gap:9px}
.wcount{font-size:11px;color:var(--muted);font-family:"JetBrains Mono",monospace}
.essay-fb{margin-top:18px;background:var(--bg2);border:1px solid rgba(124,92,252,.28);border-radius:13px;padding:22px}
.essay-fb h4{color:var(--accent2);margin-bottom:13px;font-size:14px}
.essay-fb-text{font-size:13px;line-height:1.85;color:#c0b8d8;white-space:pre-wrap}

/* PROVAS */
.exams-wrap{max-width:1160px;margin:0 auto}
.pdf-hero{background:linear-gradient(135deg,rgba(124,92,252,.1),rgba(240,180,41,.07));border:1px solid var(--border);border-radius:18px;padding:26px;margin-bottom:26px}
.pdf-hero h3{font-family:"Playfair Display",serif;font-size:20px;color:var(--gold2);margin-bottom:5px}
.pdf-hero p{color:var(--muted);font-size:12px;margin-bottom:18px}
.pdf-actions{display:flex;gap:9px;flex-wrap:wrap}
.pdf-btn-gold{background:linear-gradient(135deg,#b45309,var(--gold));color:#1a1000;border:none;border-radius:10px;padding:11px 20px;font-size:13px;font-weight:800;cursor:pointer;font-family:inherit;text-decoration:none;display:inline-flex;align-items:center;gap:7px;transition:all .2s}
.pdf-btn-gold:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(240,180,41,.3)}
.pdf-action{background:var(--bg4);border:1px solid var(--border2);color:var(--muted);border-radius:9px;padding:9px 14px;cursor:pointer;font-size:12px;font-family:inherit;transition:all .2s;text-decoration:none;display:inline-flex;align-items:center;gap:6px}
.pdf-action:hover{border-color:var(--accent);color:var(--text)}
.pdf-viewer{display:none;margin-top:14px;border-radius:10px;overflow:hidden;border:1px solid var(--border)}
.pdf-viewer iframe{width:100%;height:700px;border:none;background:#fff}
.exams-grid{display:grid;grid-template-columns:1fr 1fr;gap:18px}
@media(max-width:720px){.exams-grid{grid-template-columns:1fr}}
.exam-card{background:var(--bg3);border:1px solid var(--border);border-radius:16px;overflow:hidden;transition:all .3s}
.exam-card:hover{border-color:var(--border2);box-shadow:0 6px 24px rgba(0,0,0,.25)}
.exam-head{padding:20px;background:linear-gradient(135deg,var(--bg4),var(--bg3));display:flex;justify-content:space-between;align-items:flex-start}
.exam-badge{background:var(--accent);color:#fff;border-radius:7px;padding:3px 9px;font-size:11px;font-weight:800}
.exam-year{font-size:38px;font-weight:900;font-family:"JetBrains Mono",monospace;line-height:1}
.exam-body{padding:17px 20px}
.exam-stats{display:flex;gap:9px;margin-bottom:14px}
.estat{background:var(--bg2);border-radius:7px;padding:7px 11px;text-align:center;flex:1}
.estat-n{font-size:19px;font-weight:800;font-family:"JetBrains Mono",monospace}
.estat-l{font-size:10px;color:var(--muted);margin-top:1px}
.exam-hl{color:var(--muted);font-size:11px;line-height:1.5;margin-bottom:13px}
.exam-tags{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:14px}
.exam-toggle{width:100%;background:var(--bg2);border:1px solid var(--border);color:var(--muted);border-radius:7px;padding:9px;cursor:pointer;font-family:inherit;font-size:12px;font-weight:600;transition:all .2s}
.exam-toggle:hover{border-color:var(--accent);color:var(--text)}
.exam-qs{max-height:0;overflow:hidden;transition:max-height .5s ease}
.exam-qs.open{max-height:5000px}
.qitem{background:var(--bg2);border:1px solid var(--border);border-radius:9px;padding:14px;margin-top:9px}
.qitem-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:9px;gap:6px;flex-wrap:wrap}
.qnum{background:var(--bg4);color:var(--accent2);border-radius:5px;padding:2px 7px;font-size:10px;font-weight:700;font-family:"JetBrains Mono",monospace}
.qitem p{color:var(--muted);font-size:12px;line-height:1.55;margin-bottom:10px}
.qopts{display:flex;flex-direction:column;gap:5px}
.qopt{background:var(--bg3);border:1px solid var(--border);color:var(--dim);border-radius:6px;padding:8px 12px;cursor:pointer;font-family:inherit;font-size:12px;line-height:1.4;text-align:left;transition:all .2s}
.qopt:hover:not(:disabled){border-color:var(--accent)}
.qopt.ok{background:rgba(34,197,94,.09);border-color:#22c55e;color:#86efac;font-weight:700}
.qopt.err{background:rgba(239,68,68,.09);border-color:var(--red);color:#fca5a5;font-weight:700}
.qopt:disabled{cursor:default}
.qexp{background:rgba(34,197,94,.05);border:1px solid rgba(34,197,94,.18);border-radius:7px;padding:10px;margin-top:7px;font-size:11px;color:#86efac;line-height:1.55;display:none}
.qexp.show{display:block}

/* STATS */
.stat-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;margin-bottom:24px}
.stat-card{background:var(--bg3);border:1px solid var(--border);border-radius:13px;padding:16px;text-align:center}
.stat-num{font-size:34px;font-weight:900;font-family:"JetBrains Mono",monospace}
.stat-lbl{font-size:11px;color:var(--muted);margin-top:3px}
.stat-sub{font-size:10px;color:var(--dim);margin-top:1px}
.mat-row{background:var(--bg3);border:1px solid var(--border);border-radius:11px;padding:13px 17px;display:flex;align-items:center;gap:14px;margin-bottom:9px}
.prog-bar{height:5px;background:var(--border);border-radius:3px;overflow:hidden;flex:1}
.prog-fill{height:100%;border-radius:3px;transition:width .6s}

/* MISC */
.section-title{font-family:"Playfair Display",serif;font-size:18px;color:var(--text);margin-bottom:3px}
.section-sub{font-size:12px;color:var(--muted);margin-bottom:18px;line-height:1.5}
.progress-bar-top{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:14px 18px;margin-bottom:18px;display:flex;gap:18px;flex-wrap:wrap;align-items:center}
.pbt-item{display:flex;flex-direction:column;gap:1px}
.pbt-label{font-size:10px;color:var(--muted);font-family:"JetBrains Mono",monospace;text-transform:uppercase;letter-spacing:.4px}
.pbt-val{font-size:18px;font-weight:800;font-family:"JetBrains Mono",monospace}
.pbt-bar{flex:1;min-width:160px}
.empty{text-align:center;padding:50px;color:var(--dim);font-size:14px}
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px}
::-webkit-scrollbar-thumb:hover{background:var(--accent)}
</style>
</head>
<body>

<header class="hdr">
  <div class="hdr-in">
    <div class="logo">
      <div class="logo-icon">üìö</div>
      <div>
        <div class="logo-name">UNESP Study Hub</div>
        <div class="logo-tag">UNESP 2022 ¬∑ FUVEST 2024 ¬∑ ENEM</div>
      </div>
    </div>
    <div class="hdr-stats">
      <div class="stat-pill">Cards: <span id="stCards">0/0</span></div>
      <div class="stat-pill">Quiz: <span id="stQuiz">0%</span></div>
      <div class="stat-pill">N√≠vel: <span id="stDiff">Todos</span></div>
    </div>
  </div>
</header>

<nav class="nav">
  <div class="nav-in">
    <button class="nav-btn active" onclick="goTab('flashcards')">üÉè Flashcards</button>
    <button class="nav-btn" onclick="goTab('quiz')">üéØ Quiz</button>
    <button class="nav-btn" onclick="goTab('essay')">‚úçÔ∏è Reda√ß√£o</button>
    <button class="nav-btn" onclick="goTab('exams')">üìÑ Provas</button>
    <button class="nav-btn" onclick="goTab('stats')">üìä Progresso</button>
  </div>
</nav>

<main class="main">
  <div id="filters-area"></div>
  <div class="tab active" id="tab-flashcards">
    <div class="section-title">Flashcards de Revis√£o</div>
    <div class="section-sub">Clique no card para revelar a resposta ¬∑ Filtre por mat√©ria e dificuldade</div>
    <div id="fc-prog" style="display:none" class="progress-bar-top"></div>
    <div class="cards-grid" id="cardsGrid"></div>
  </div>
  <div class="tab" id="tab-quiz">
    <div class="quiz-wrap" id="quizWrap"></div>
  </div>
  <div class="tab" id="tab-essay">
    <div class="essay-wrap" id="essayWrap"></div>
  </div>
  <div class="tab" id="tab-exams">
    <div class="exams-wrap" id="examsWrap"></div>
  </div>
  <div class="tab" id="tab-stats">
    <div id="statsWrap"></div>
  </div>
</main>

<script>
const COLORS={Biologia:"#22c55e",Qu√≠mica:"#f0b429",F√≠sica:"#3b82f6",Matem√°tica:"#8b5cf6",Geografia:"#10b981",Hist√≥ria:"#ef4444",Literatura:"#ec4899",Filosofia:"#06b6d4",Reda√ß√£o:"#a855f7",Ingl√™s:"#f97316"};

const CARDS=[
  {id:1,s:"Biologia",d:1,q:"O que √© G6PD e por que sua defici√™ncia impede o uso de primaquina?",a:"G6PD protege eritr√≥citos do estresse oxidativo. Sem ela, a primaquina causa hem√≥lise (destrui√ß√£o dos gl√≥bulos vermelhos), podendo ser fatal para portadores."},
  {id:2,s:"Biologia",d:2,q:"Quais s√£o as 3 fases da depend√™ncia tecnol√≥gica em adolescentes?",a:"1) Engajamento: uso intenso e prazeroso; 2) Substitui√ß√£o: tecnologia substitui atividades reais; 3) Depend√™ncia: s√≠ndrome de abstin√™ncia sem o dispositivo ‚Äî ansiedade, irritabilidade."},
  {id:3,s:"Biologia",d:2,q:"Rela√ß√£o entre press√£o e velocidade do sangue nos vasos sangu√≠neos.",a:"Inversamente proporcionais. Nos capilares: baixa velocidade (maior √°rea total) + baixa press√£o ‚Üí troca de nutrientes. Nas art√©rias: alta press√£o + alta velocidade."},
  {id:4,s:"Biologia",d:1,q:"Como foi criada a alm√¥ndega de mamute em 2023?",a:"Gene da mioglobina do mamute sequenciado ‚Üí partes ausentes preenchidas com DNA de elefante ‚Üí gene inserido em c√©lula-tronco de ovelha ‚Üí c√©lulas cultivadas em biorreator."},
  {id:5,s:"Biologia",d:3,q:"Por que a radia√ß√£o ionizante causa feridas que n√£o cicatrizam?",a:"Muta√ß√µes no DNA das c√©lulas epiteliais alteram o ciclo celular ‚Üí necrose ou transforma√ß√£o neopl√°sica. C√©lulas-tronco epid√©rmicas danificadas impedem renova√ß√£o normal do tecido."},
  {id:6,s:"Biologia",d:1,q:"Diferen√ßa fundamental entre mitose e meiose.",a:"Mitose: 1 divis√£o ‚Üí 2 c√©lulas id√™nticas diploides (2n). Meiose: 2 divis√µes ‚Üí 4 c√©lulas haploides (n). Meiose gera variabilidade gen√©tica por crossing-over."},
  {id:7,s:"Biologia",d:2,q:"O que √© fototropismo e qual horm√¥nio o controla?",a:"Crescimento direcional em resposta √† luz. Auxina (AIA) acumula-se no lado n√£o iluminado ‚Üí alongamento celular ‚Üí curvatura em dire√ß√£o √† luz. Experimento cl√°ssico de Darwin (1880)."},
  {id:8,s:"Biologia",d:3,q:"Como funciona o feedback negativo na regula√ß√£o da tireoide?",a:"Hipot√°lamo (TRH) ‚Üí Hip√≥fise (TSH) ‚Üí Tireoide (T3/T4). Altos n√≠veis de T3/T4 inibem hipot√°lamo e hip√≥fise. An√°logo ao termostato: produto final regula a pr√≥pria produ√ß√£o."},
  {id:9,s:"Biologia",d:2,q:"O que diferencia v√≠rus de bact√©rias quanto ao tratamento?",a:"V√≠rus: sem metabolismo pr√≥prio, n√£o respondem a antibi√≥ticos ‚Üí antivirais e vacinas. Bact√©rias: procariotos com metabolismo ‚Üí antibi√≥ticos. Penicilina n√£o mata v√≠rus!"},
  {id:10,s:"Biologia",d:3,q:"O que √© epistasia e como difere de domin√¢ncia?",a:"Domin√¢ncia: alelo mascara outro no mesmo locus. Epistasia: gene mascara outro gene em locus diferente. Ex.: genes da pelagem em c√£es ‚Äî gene I mascara gene B (diferentes cromossomos)."},
  {id:11,s:"Qu√≠mica",d:1,q:"Como se forma o oz√¥nio troposf√©rico (poluente)?",a:"NO‚ÇÇ + luz UV ‚Üí NO + O‚Å∞; O‚Å∞ + O‚ÇÇ ‚Üí O‚ÇÉ. √â poluente: irrita vias respirat√≥rias, danifica pulm√µes. Diferente do oz√¥nio estratosf√©rico, que nos protege da radia√ß√£o UV."},
  {id:12,s:"Qu√≠mica",d:1,q:"O que √© o efeito fotoel√©trico e por que foi revolucion√°rio?",a:"Emiss√£o de el√©trons de metal iluminado. Depende da FREQU√äNCIA (n√£o intensidade) da luz. Einstein explicou com f√≥tons (E=hf) ‚Äî base da mec√¢nica qu√¢ntica. Nobel 1921."},
  {id:13,s:"Qu√≠mica",d:3,q:"Por que o pH pode ser negativo? A escala 0-14 tem limite f√≠sico?",a:"N√£o. pH = -log[H‚Å∫]. Se [H‚Å∫] > 1 mol/L (√°cido muito concentrado) ‚Üí pH < 0. A escala 0-14 √© convencional para solu√ß√µes dilu√≠das. pH negativo existe em √°cidos ultraconcentrados."},
  {id:14,s:"Qu√≠mica",d:2,q:"Por que a Pt daria 'falso positivo' no teste de dissolu√ß√£o em √°cido forte?",a:"Falso positivo = n√£o se dissolve. E¬∞(Pt) = +1,20V > E¬∞(H‚Å∫) = 0V ‚Üí √°cido n√£o consegue oxidar a platina. Assim como ouro (E¬∞=+1,50V). Ambos resistem a √°cidos comuns."},
  {id:15,s:"Qu√≠mica",d:2,q:"Pelo princ√≠pio de Le Chatelier, o que ocorre ao aumentar press√£o num sistema com mais moles de g√°s nos produtos?",a:"Equil√≠brio desloca para o lado com MENOS moles de g√°s (reagentes) para reduzir a press√£o. Aumentar press√£o nesse caso diminui a produ√ß√£o dos produtos."},
  {id:16,s:"Qu√≠mica",d:1,q:"Diferen√ßa entre rea√ß√£o endot√©rmica e exot√©rmica.",a:"Exot√©rmica: libera calor (ŒîH < 0). Ex.: combust√£o, respira√ß√£o. Endot√©rmica: absorve calor (ŒîH > 0). Ex.: fotoss√≠ntese, fus√£o do gelo. Aumentar T favorece a endot√©rmica (Le Chatelier)."},
  {id:17,s:"Qu√≠mica",d:2,q:"Como calcular moles a partir da massa? Exemplo com 36g de √°gua.",a:"n = m/M. M(H‚ÇÇO) = 18 g/mol. n = 36/18 = 2 mol = 2 √ó 6,02√ó10¬≤¬≥ = 1,204√ó10¬≤‚Å¥ mol√©culas. Cada mol cont√©m o n√∫mero de Avogadro (6,02√ó10¬≤¬≥) de part√≠culas."},
  {id:18,s:"Qu√≠mica",d:3,q:"O que s√£o compostos i√¥nicos e por que t√™m alto ponto de fus√£o?",a:"Formados por c√°tions e √¢nions em rede cristalina (ex.: NaCl). Alto ponto de fus√£o porque for√ßas eletrost√°ticas entre √≠ons opostos s√£o muito intensas ‚Äî exigem muita energia para romper."},
  {id:19,s:"F√≠sica",d:1,q:"Mistura caf√© (80¬∞C) + leite (20¬∞C), propor√ß√£o 1:1. Temperatura final?",a:"50¬∞C. Equil√≠brio t√©rmico: Q_cedido = Q_absorvido. m¬∑c¬∑(80‚àíT) = m¬∑c¬∑(T‚àí20) ‚Üí 80‚àíT = T‚àí20 ‚Üí T = 50¬∞C. Massas e calores espec√≠ficos iguais ‚Üí m√©dia aritm√©tica."},
  {id:20,s:"F√≠sica",d:2,q:"O que Newton concluiu sobre velocidade orbital?",a:"Para orbitar a Terra, proj√©til precisa de velocidade tangencial tal que sua queda livre curve ao redor do planeta. v = ‚àö(g¬∑R) ‚âà 7,9 km/s. Mais r√°pido ‚Üí elipse/√≥rbita. Mais lento ‚Üí cai."},
  {id:21,s:"F√≠sica",d:2,q:"No term√¥metro de √≥leo (M=18g, V=20cm¬≥), quando a tens√£o no fio se anula?",a:"Quando Empuxo = Peso: œÅ_√≥leo = M/V = 18/20 = 0,90 g/cm¬≥. No gr√°fico densidade √ó temperatura do √≥leo, 0,90 g/cm¬≥ corresponde a ‚âà 100¬∞C."},
  {id:22,s:"F√≠sica",d:1,q:"Por que a fuligem desaparece das paredes do forno a lenha na temperatura ideal?",a:"Fuligem = carbono da combust√£o incompleta. Na temp. ideal: C + O‚ÇÇ ‚Üí CO‚ÇÇ. O carbono s√≥lido √© oxidado a g√°s, que escapa, revelando a cor clara da parede."},
  {id:23,s:"F√≠sica",d:3,q:"O que √© o efeito Doppler? Cite 2 aplica√ß√µes pr√°ticas.",a:"Mudan√ßa de frequ√™ncia percebida quando h√° movimento relativo entre fonte e observador. Aplica√ß√µes: 1) Radar de velocidade (pol√≠cia); 2) Ecografia Doppler (fluxo sangu√≠neo); 3) Sonar marinho."},
  {id:24,s:"F√≠sica",d:2,q:"Diferen√ßa entre calor latente e calor sens√≠vel.",a:"Sens√≠vel: Q = m¬∑c¬∑ŒîT (muda temperatura). Latente: Q = m¬∑L (muda fase, sem mudar temperatura). Ex.: gelo a 0¬∞C absorve 80 cal/g (L_fus√£o) sem mudar de temperatura at√© fundir completamente."},
  {id:25,s:"F√≠sica",d:3,q:"O que √© in√©rcia e como se relaciona com a 1¬™ Lei de Newton?",a:"In√©rcia: tend√™ncia de um corpo de manter seu estado de movimento. 1¬™ Lei: corpo em repouso ‚Üí repouso; em MRU ‚Üí MRU, a menos que uma for√ßa resultante n√£o nula atue. Massa = medida da in√©rcia."},
  {id:26,s:"Matem√°tica",d:2,q:"Diferen√ßa entre placas Mercosul e antigas no n√∫mero de combina√ß√µes.",a:"Mercosul: 26‚Å¥ √ó 10¬≥ (4¬™ posi√ß√£o √© letra). Antigas: 26¬≥ √ó 10‚Å¥ (4¬™ √© n√∫mero). Raz√£o: 26‚Å¥√ó10¬≥ / 26¬≥√ó10‚Å¥ = 26/10 = 2,6√ó. Mercosul tem 2,6 vezes mais combina√ß√µes."},
  {id:27,s:"Matem√°tica",d:1,q:"O que s√£o n√∫meros oblongos e qual √© a f√≥rmula?",a:"Pontos em ret√¢ngulo onde colunas = linhas + 1. F√≥rmula: O(n) = n(n+1). Sequ√™ncia: 2, 6, 12, 20, 30... Rela√ß√£o: O(n) = 2¬∑T(n), onde T(n) √© o n-√©simo n√∫mero triangular."},
  {id:28,s:"Matem√°tica",d:2,q:"O n√∫mero 210 √© triangular E oblongo? Prove.",a:"T(20) = 20√ó21/2 = 210 ‚úì (triangular). O(14) = 14√ó15 = 210 ‚úì (oblongo). Sim! Sempre T(n) = O(n)/2. O 20¬∫ triangular = metade do 14¬∫ oblongo."},
  {id:29,s:"Matem√°tica",d:3,q:"Converta 2021 para bin√°rio e compare quantidade de 1s e 0s.",a:"2021 = 1024+512+256+128+64+32+4+1 = 11111100101‚ÇÇ. D√≠gitos: 7 uns e 4 zeros. Diferen√ßa = 7‚àí4 = 3 (mais 1s que 0s)."},
  {id:30,s:"Matem√°tica",d:1,q:"Como calcular probabilidade condicional P(A|B)?",a:"P(A|B) = P(A‚à©B) / P(B). Ex. UNESP Q88: P(press√£o elevada | excesso de peso) = 0,10/0,25 = 40%. Renato tem excesso de peso ‚Üí 40% de chance de press√£o elevada."},
  {id:31,s:"Matem√°tica",d:3,q:"Qual √© a f√≥rmula do modelo exponencial de queda de pre√ßo (Q85 UNESP 2022)?",a:"y = 15649¬∑e^(‚àí0,687x). x = anos desde introdu√ß√£o (‚âà1990). Para 2025: x = 35. Usando e^5,053 = 156,49 e e^0,443 = 1,56: y = 15649/e^(0,687√ó35) ‚âà US$64."},
  {id:32,s:"Matem√°tica",d:2,q:"Numa pir√¢mide com base AHGF (quadrado, √°rea=3m¬≤) e BCDE (ret√¢ngulo, BC=3m, CD=4m), como calcular o volume?",a:"V_pir√¢mide = (1/3)¬∑B¬∑h. B_total = √°rea do quadrado + √°rea do ret√¢ngulo = 3 + 12 = 15 m¬≤ (base composta). h = CD¬∑tan(60¬∞) = 4¬∑‚àö3 ‚âà h. V = (1/3)¬∑√°rea¬∑h."},
  {id:33,s:"Geografia",d:1,q:"Por que o Canal de Suez √© estrat√©gico para o com√©rcio mundial?",a:"Liga Mediterr√¢neo ao Mar Vermelho ‚Äî evita contornar a √Åfrica (‚âà7.000km a menos). Passa 12% do com√©rcio mundial. Bloqueio em 2021 (Ever Given) = US$9,6 bi/dia de preju√≠zo."},
  {id:34,s:"Geografia",d:2,q:"O que √© a Serra do Imeri e por que favorece endemismo?",a:"Serra no norte do AM. Isolamento geogr√°fico (montanhas + floresta) separa popula√ß√µes ‚Üí especia√ß√£o alop√°trica. Esp√©cies evoluem independentemente. Alta biodiversidade end√™mica."},
  {id:35,s:"Geografia",d:1,q:"O que √© subsid√™ncia do terreno? Cite causa antr√≥pica.",a:"Rebaixamento lento do solo. Causa antr√≥pica: superexplora√ß√£o de aqu√≠feros ‚Äî retirada excessiva de √°gua subterr√¢nea cria vazios que colapsam. Ocorre em SP, Cidade do M√©xico e Jacarta."},
  {id:36,s:"Geografia",d:2,q:"O que s√£o Reservas Extrativistas e quem as idealizou?",a:"Criadas por Chico Mendes (1988). Permitem explora√ß√£o sustent√°vel dos recursos florestais pelas popula√ß√µes tradicionais (seringueiros). Conciliam preserva√ß√£o ambiental e gera√ß√£o de renda."},
  {id:37,s:"Geografia",d:3,q:"O que √© o meio t√©cnico-cient√≠fico-informacional (Milton Santos)?",a:"Uni√£o entre ci√™ncia, t√©cnica e informa√ß√£o no territ√≥rio a partir da globaliza√ß√£o (anos 1970+). No Brasil: distribui√ß√£o desigual ‚Äî cont√≠nua no Sudeste/Sul; pontual (ilhas de modernidade) no Norte/Nordeste."},
  {id:38,s:"Hist√≥ria",d:1,q:"Quem foi Antonio Conselheiro e o que foi Canudos?",a:"L√≠der messi√¢nico que fundou comunidade de Canudos (BA, 1893-97), reunindo ~30.000 pessoas pobres. Massacrado em 4 expedi√ß√µes militares. Euclides da Cunha narrou em 'Os Sert√µes' (1902)."},
  {id:39,s:"Hist√≥ria",d:2,q:"O que foi a Revolta dos Mal√™s (1835) e o que a tornou √∫nica?",a:"Maior revolta urbana de escravizados das Am√©ricas. Salvador, BA. Liderada por escravizados mu√ßulmanos alfabetizados em √°rabe. Planejada para o Ramad√£. Reprimida: l√≠deres mortos, deportados ou a√ßoitados."},
  {id:40,s:"Hist√≥ria",d:1,q:"Como a Crise de 1929 transformou o liberalismo econ√¥mico?",a:"Evidenciou os limites do laissez-faire. Resultado: interven√ß√£o estatal obrigat√≥ria ‚Äî New Deal de Roosevelt (EUA), pol√≠ticas keynesianas (Europa). Estado passou a regular mercados e investir em infraestrutura."},
  {id:41,s:"Hist√≥ria",d:2,q:"O governo JK e o desenvolvimentismo: o que foi o Plano de Metas?",a:"'50 anos em cinco' ‚Äî industrializa√ß√£o acelerada, capta√ß√£o de capital estrangeiro (ind√∫stria automobil√≠stica), constru√ß√£o de Bras√≠lia (1960). Gerou crescimento e infla√ß√£o elevada."},
  {id:42,s:"Hist√≥ria",d:3,q:"O que a charge de Belmonte (1922) ironizava sobre a Semana de Arte Moderna?",a:"O descompasso entre as propostas renovadoras da vanguarda modernista e o gosto tradicional do p√∫blico. A charge mostra o p√∫blico olhando os artistas com pena: 'Coitados, n√£o? T√£o mo√ßos...'"},
  {id:43,s:"Hist√≥ria",d:2,q:"O que o texto de Proudhon ('A propriedade √© o roubo') representa politicamente?",a:"Anarquismo: defende aboli√ß√£o da propriedade privada e do Estado. Proudhon (1840) equipara propriedade ao roubo porque se apropria do trabalho alheio sem compensa√ß√£o justa."},
  {id:44,s:"Hist√≥ria",d:3,q:"Qual foi o impacto demogr√°fico da escravid√£o no Rec√¥ncavo Baiano?",a:"Escravizados chegaram a 75%+ da popula√ß√£o. Taxa de crescimento negativo (mortes prematuras + baixa natalidade) ‚Üí importa√ß√£o constante de africanos. Com fim do tr√°fico em 1850, acelerou-se a imigra√ß√£o europeia."},
  {id:45,s:"Literatura",d:1,q:"'√â tempo de formar novos quilombos' (Concei√ß√£o Evaristo) ‚Äî qual figura de linguagem?",a:"Met√°fora: quilombos representam metaforicamente a uni√£o coletiva e resist√™ncia social contempor√¢nea. Sem refer√™ncia literal √†s comunidades hist√≥ricas ‚Äî sentido figurado/simb√≥lico."},
  {id:46,s:"Literatura",d:2,q:"Em 'Dois Irm√£os' (Milton Hatoum), qual √© o desfecho da rivalidade entre Yaqub e Omar?",a:"Desagrega√ß√£o e ru√≠na da fam√≠lia. Os g√™meos (raz√£o vs. paix√£o) destroem progressivamente os la√ßos afetivos, materiais e morais. A fam√≠lia implode pela rivalidade fraternal."},
  {id:47,s:"Literatura",d:2,q:"Para que serve a ambiguidade no di√°logo do 'Mac√°rio' de √Ålvares de Azevedo?",a:"Efeito c√¥mico. 'Burro' = animal e insulto. A Voz interpreta literalmente onde Mac√°rio usa figuradamente e vice-versa, gerando mal-entendidos progressivos ‚Äî recurso de ambiguidade lexical."},
  {id:48,s:"Literatura",d:1,q:"Qual movimento liter√°rio reage ao racionalismo iluminista valorizando a experi√™ncia individual?",a:"Romantismo (s√©c. XIX). Valorizava intui√ß√£o, emo√ß√£o, natureza e p√°tria. No Brasil: Gon√ßalves Dias, Jos√© de Alencar, √Ålvares de Azevedo (gera√ß√£o byroniana/mal do s√©culo)."},
  {id:49,s:"Literatura",d:3,q:"O paradoxo no poema 'O Sobrevivente' de Drummond ‚Äî como se resolve?",a:"O poema declara imposs√≠vel escrever poesia no mundo mecanizado ‚Äî mas o pr√≥prio texto √© uma poesia. A contradi√ß√£o se dissolve: a poesia resiste ao negativismo do seu tempo pela pr√≥pria exist√™ncia."},
  {id:50,s:"Filosofia",d:2,q:"O que √© 'fortuna' em Maquiavel e como o pr√≠ncipe deve lidar com ela?",a:"Fortuna = eventos imprevistos, o acaso. O pr√≠ncipe virtuoso (com virt√π) deve antecipar e adaptar-se. Maquiavel compara a fortuna a um rio ‚Äî pode-se construir diques para controlar sua for√ßa."},
  {id:51,s:"Filosofia",d:1,q:"O que √© o pan√≥ptico e por que Foucault o usa como met√°fora do poder?",a:"Pris√£o circular de Bentham: torre central v√™ todos, mas ningu√©m sabe se est√° sendo observado ‚Üí auto-vigil√¢ncia. Foucault: met√°fora do poder disciplinar moderno (escolas, hospitais, f√°bricas)."},
  {id:52,s:"Filosofia",d:3,q:"Qual √© a cr√≠tica de Plat√£o √†s artes em 'A Rep√∫blica'?",a:"Artistas imitam o mundo sens√≠vel (j√° c√≥pia do mundo das Ideias) ‚Üí arte √© 'c√≥pia de c√≥pia', distante da verdade. Artistas apelam √†s emo√ß√µes, n√£o √† raz√£o ‚Äî corrompendo a alma do espectador."},
  {id:53,s:"Reda√ß√£o",d:1,q:"Quais s√£o as 5 compet√™ncias do ENEM para reda√ß√£o?",a:"‚ë† Dom√≠nio da norma culta ‚ë° Compreens√£o e desenvolvimento do tema ‚ë¢ Sele√ß√£o e organiza√ß√£o de argumentos ‚ë£ Mecanismos de coes√£o e coer√™ncia ‚ë§ Proposta de interven√ß√£o respeitando os DH"},
  {id:54,s:"Reda√ß√£o",d:2,q:"O que deve ter uma proposta de interven√ß√£o completa no ENEM?",a:"5 elementos obrigat√≥rios: Agente (quem age) + A√ß√£o (o que fazer) + Modo/Meio (como) + Efeito esperado (resultado) + Finalidade (por qu√™). Deve ser detalhada, vi√°vel e articulada com a tese."},
  {id:55,s:"Reda√ß√£o",d:3,q:"O que diferencia a disserta√ß√£o-argumentativa do texto expositivo?",a:"Disserta√ß√£o-argumentativa: defende ponto de vista com argumentos para convencer. Expositivo: apresenta informa√ß√µes objetivamente sem tomar partido. O ENEM exige disserta√ß√£o-argumentativa com proposta de interven√ß√£o social."},
  {id:56,s:"Ingl√™s",d:1,q:"O que significa 'keep pace' no contexto de urbaniza√ß√£o?",a:"'Keep pace' = manter o ritmo, acompanhar. 'Infrastructure has been unable to keep pace' = a infraestrutura n√£o conseguiu acompanhar o crescimento populacional. An√°logo: 'manter o passo'."},
  {id:57,s:"Ingl√™s",d:2,q:"Diferen√ßa entre 'even though' e 'however' como conectores.",a:"'Even though' (embora): conjun√ß√£o subordinativa de concess√£o, une duas ora√ß√µes. 'However' (por√©m/entretanto): adv√©rbio de contraste, liga ideias em ora√ß√µes separadas. N√£o s√£o intercambi√°veis sintaticamente."},
];

const QUIZ=[
  {id:1,s:"F√≠sica",d:1,q:"Uma ma√ß√£ cai de altura h. Sua energia cin√©tica ao atingir o solo √©:",opts:["mgh/2","mgh","2mgh","‚àö(2gh)"],ok:1,exp:"Conserva√ß√£o de energia: toda E. potencial (mgh) ‚Üí E. cin√©tica. Ec = mgh.",src:"UNESP 2022"},
  {id:2,s:"Biologia",d:1,q:"A t√©cnica de inserir gene de outra esp√©cie em um organismo chama-se:",opts:["Clonagem","Terapia g√™nica","Transgenia","Sele√ß√£o artificial"],ok:2,exp:"Transgenia = inser√ß√£o de gene de outra esp√©cie. Ex.: gene da insulina humana em E. coli.",src:"UNESP 2022 Q63"},
  {id:3,s:"Hist√≥ria",d:1,q:"A Revolta dos Mal√™s (1835) se distingue por:",opts:["Ter ocorrido no campo","Ser liderada por escravizados alfabetizados em √°rabe","Ter sido bem-sucedida","Ter apoio de fazendeiros"],ok:1,exp:"Os Mal√™s eram escravizados mu√ßulmanos que dominavam a escrita em √°rabe ‚Äî organiza√ß√£o sofisticada e √∫nica.",src:"UNESP 2022"},
  {id:4,s:"Literatura",d:1,q:"O movimento que defende 'o valor supremo da experi√™ncia individual' reagindo ao iluminismo √©:",opts:["Naturalismo","Realismo","Barroco","Romantismo"],ok:3,exp:"O Romantismo (s√©c. XIX) valorizava intui√ß√£o, emo√ß√£o, natureza e p√°tria, contra o racionalismo iluminista.",src:"UNESP 2022 Q15"},
  {id:5,s:"Ingl√™s",d:1,q:"'Keep pace' (texto sobre Water and Urbanization) significa:",opts:["Antecipar necessidades","Manter o ritmo de progresso","Avaliar a situa√ß√£o","Interferir no desenvolvimento"],ok:1,exp:"'Keep pace' = manter o ritmo. A infraestrutura n√£o conseguiu acompanhar o crescimento urbano.",src:"UNESP 2022 Q26"},
  {id:6,s:"Qu√≠mica",d:1,q:"O efeito fotoel√©trico depende principalmente de:",opts:["Intensidade da luz","Frequ√™ncia da luz","Massa dos el√©trons","Temperatura do metal"],ok:1,exp:"Einstein: emiss√£o de el√©trons depende da FREQU√äNCIA (E=hf), n√£o da intensidade. Base da mec√¢nica qu√¢ntica.",src:"UNESP 2022"},
  {id:7,s:"Matem√°tica",d:2,q:"O n√∫mero 210 em rela√ß√£o a triangulares T(n)=n(n+1)/2 e oblongos O(n)=n(n+1):",opts:["Apenas triangular T(20)","Apenas oblongo O(14)","Triangular E oblongo","Nenhum dos dois"],ok:2,exp:"T(20)=210 ‚úì e O(14)=210 ‚úì. 210 √© ambos! Rela√ß√£o: O(n) = 2¬∑T(n) sempre.",src:"UNESP 2022 Q85"},
  {id:8,s:"Biologia",d:2,q:"No experimento hem√°cias + algas em √°gua destilada: ap√≥s centrifuga√ß√£o, ao microsc√≥pio observa-se:",opts:["S√≥ hem√°cias; solu√ß√£o com clorofila","S√≥ algas; solu√ß√£o com hemoglobina","Ambas as c√©lulas; sem mol√©culas","Nenhuma c√©lula; ambas as mol√©culas"],ok:1,exp:"Hem√°cias: sem parede celular ‚Üí lise osm√≥tica ‚Üí hemoglobina na solu√ß√£o. Algas: parede celular r√≠gida ‚Üí sobrevivem ‚Üí √≠ntegras no precipitado.",src:"UNESP 2022 Q64"},
  {id:9,s:"Qu√≠mica",d:2,q:"No teste do ouro com √°cido forte, qual material daria falso positivo (n√£o se dissolve)?",opts:["Mg (E¬∞= -2,37V)","Al (E¬∞= -1,66V)","Fe (E¬∞= -0,44V)","Pt (E¬∞= +1,20V)"],ok:3,exp:"Falso positivo = n√£o se dissolve. E¬∞(Pt)=+1,20V > E¬∞(H‚Å∫)=0V ‚Üí n√£o oxidada pelo √°cido, como o ouro (+1,50V).",src:"UNESP 2022"},
  {id:10,s:"Hist√≥ria",d:2,q:"A charge de Belmonte sobre a Semana de Arte Moderna ironiza:",opts:["O atraso da arte brasileira","Preocupa√ß√µes com cultura popular","O descompasso entre vanguarda e gosto do p√∫blico","A forma√ß√£o t√©cnica dos artistas"],ok:2,exp:"O p√∫blico olha os artistas com pena ('Coitados, n√£o?'), ironizando que a renova√ß√£o modernista n√£o era compreendida.",src:"UNESP 2022 Q40"},
  {id:11,s:"F√≠sica",d:2,q:"600g √°gua 10¬∞C + 100g gelo -40¬∞C + 800g √°gua 5¬∞C em calor√≠metro ideal. Resultado:",opts:["1500g √°gua a 10¬∞C","1450g √°gua + 50g gelo a 0¬∞C","1500g gelo a -5¬∞C","1500g √°gua a 0¬∞C"],ok:3,exp:"Q cedido pela √°gua = 6000+4000=10000 cal. Q p/ aquecer gelo a 0¬∞C=2000 cal; fundir todo=8000 cal. Total=10000 cal. Equil√≠brio: 1500g √°gua a 0¬∞C.",src:"UNESP 2022 Q79"},
  {id:12,s:"Literatura",d:2,q:"No 'Mac√°rio', o recurso que gera efeito c√¥mico no di√°logo do burro √©:",opts:["Ant√≠tese","Eufemismo","Hip√©rbole","Ambiguidade"],ok:3,exp:"'Burro' = animal e insulto. A Voz interpreta literalmente onde Mac√°rio usa figuradamente ‚Äî ambiguidade lexical.",src:"UNESP 2022 Q04"},
  {id:13,s:"Biologia",d:3,q:"23 nomes populares de aves ‚Äî taxonomicamente pode-se afirmar que:",opts:["Pertencem a 23 g√™neros","Pertencem a 1 √∫nico g√™nero","23 esp√©cies em 1 g√™nero","1 classe, sem inferir n¬∫ de g√™neros"],ok:3,exp:"Sendo todas aves = mesma classe (Aves). Nomes populares ‚â† taxonomia formal. N√£o se infere n¬∫ de g√™neros sem nomenclatura cient√≠fica.",src:"UNESP 2022 Q61"},
  {id:14,s:"Qu√≠mica",d:3,q:"SiO‚ÇÇ + 3C ‚Üí SiC + 2CO (rendimento 75%). Rea√ß√£o de 6t SiO‚ÇÇ com 3,6t C. Massa de SiC obtida:",opts:["5,6t","4,0t","3,0t","2,5t"],ok:2,exp:"M(SiO‚ÇÇ)=60g/mol, M(C)=12g/mol, M(SiC)=40g/mol. Mol SiO‚ÇÇ=6t/60=0,1 Mmol; C precisa 3√ó SiO‚ÇÇ=0,3 Mmol, temos 3,6t/12=0,3 Mmol. Estequiometria ok. SiC te√≥rico=4t √ó 0,75=3t.",src:"UNESP 2022 Q70"},
  {id:15,s:"F√≠sica",d:3,q:"For√ßa gravitacional entre exoplaneta 2M1207b (5√óM_J√∫piter) e estrela (0,025√óM_Sol) a 40 UA:",opts:["8,3√ó10¬≤‚Å∞ N","5,0√ó10¬≤‚Å∞ N","2,5√ó10¬≤¬π N","3,6√ó10¬≤¬π N"],ok:0,exp:"F=Gm‚ÇÅm‚ÇÇ/r¬≤. m‚ÇÅ=10¬≤‚Å∏kg; m‚ÇÇ=5√ó10¬≤‚Å∏kg; r=6√ó10¬π¬≤m. F=6√ó10‚Åª¬π¬π√ó10¬≤‚Å∏√ó5√ó10¬≤‚Å∏/(6√ó10¬π¬≤)¬≤=3√ó10¬π‚Å∏/3,6√ó10¬≤‚Åµ‚âà8,3√ó10¬≤‚Å∞N.",src:"UNESP 2022 Q77"},
  {id:16,s:"Matem√°tica",d:3,q:"Probabilidade de Renato (excesso de peso) ter press√£o elevada (tabela Q88):",opts:["12%","4%","50%","40%"],ok:3,exp:"P(elevada|excesso) = P(elevada‚à©excesso)/P(excesso) = 10%/25% = 40%. Probabilidade condicional!",src:"UNESP 2022 Q88"},
  {id:17,s:"Filosofia",d:2,q:"Norbert Elias afirma que a morte √© 'problema dos vivos' porque:",opts:["Apenas humanos antecipam a pr√≥pria morte","Os mortos deixam d√≠vidas","A morte √© imprevis√≠vel","Os animais tamb√©m morrem"],ok:0,exp:"Apenas humanos sabem que morrer√£o e tomam precau√ß√µes. Os mortos n√£o t√™m problemas ‚Äî √© quem vive que sofre com a perspectiva da finitude.",src:"UNESP 2022 Q11"},
  {id:18,s:"Biologia",d:2,q:"Horm√¥nio vegetal que controla o fototropismo em plantas:",opts:["Giberilina","Citocinina","Etileno","Auxina (AIA)"],ok:3,exp:"Auxina acumula-se no lado n√£o iluminado ‚Üí promove alongamento celular ‚Üí curvatura em dire√ß√£o √† luz. Experimento de Darwin (1880).",src:"UNESP 2022 Q66"},
];

const ESSAY_TOPICS=[
  {t:"Invisibilidade e registro civil no Brasil",tipo:"ENEM",cor:"#7c5cfc",tip:"Paradoxo: cidad√£os sem documentos s√£o invis√≠veis ao Estado mas vulner√°veis √† exclus√£o. Argumente sobre acesso a direitos e responsabilidade do poder p√∫blico."},
  {t:"Viver em rede no s√©culo XXI",tipo:"ENEM",cor:"#06b6d4",tip:"Explore a dualidade: conectividade e acesso √† informa√ß√£o X isolamento social, fake news e depend√™ncia tecnol√≥gica. Mostre os dois lados."},
  {t:"Desigualdade de g√™nero no trabalho de cuidado",tipo:"ENEM",cor:"#ec4899",tip:"Dado: mulheres realizam 75% do trabalho de cuidado n√£o remunerado. Conecte com mercado de trabalho, autonomia financeira e patriarcado."},
  {t:"Escassez de semicondutores e soberania tecnol√≥gica",tipo:"FUVEST",cor:"#f0b429",tip:"Taiwan produz 90% dos chips avan√ßados. Aborde depend√™ncia tecnol√≥gica de na√ß√µes, seguran√ßa nacional e papel do Brasil."},
  {t:"Democratiza√ß√£o do esporte no Brasil",tipo:"FUVEST",cor:"#22c55e",tip:"Divis√£o entre ricos e pobres no acesso ao esporte. Relacione com privatiza√ß√£o e cortes em escolas p√∫blicas. Use o skate ol√≠mpico como exemplo."},
  {t:"Viol√™ncia contra a mulher no Brasil",tipo:"ENEM",cor:"#ef4444",tip:"Use dados do Atlas da Viol√™ncia. Causas estruturais: patriarcado e depend√™ncia econ√¥mica. Proposta: agente + a√ß√£o + meio + efeito + finalidade."},
];

const EXAMS=[
  {id:"unesp2022",nome:"UNESP 2022",ano:"2022",cor:"#f0b429",total:90,
   mats:["Biologia","Qu√≠mica","F√≠sica","Matem√°tica","Geografia","Hist√≥ria","Literatura","Ingl√™s","Filosofia"],
   hl:"G6PD ¬∑ Placas Mercosul ¬∑ Semana Arte Moderna ¬∑ Revolta Mal√™s ¬∑ Canal de Suez ¬∑ Pan√≥ptico ¬∑ Sistema Bin√°rio",
   qs:[
    {n:2,s:"Literatura",t:"Para Mac√°rio, a poesia deveria ser:",opts:["(A) Elitista ‚Äî s√≥ para o rico","(B) Herm√©tica","(C) Despojada","(D) Engajada","(E) Sentimental"],ok:0,exp:"Mac√°rio diz que quando a poesia corria s√≥ pela m√£o do rico 'ia muito bem'. Critica a populariza√ß√£o que a tornou vulgar e comum."},
    {n:4,s:"Literatura",t:"Efeito c√¥mico no di√°logo do burro decorre de:",opts:["(A) Ant√≠tese","(B) Eufemismo","(C) Hip√©rbole","(D) Ambiguidade","(E) Personifica√ß√£o"],ok:3,exp:"'Burro' = animal e insulto. Ambiguidade lexical gera s√©rie de mal-entendidos progressivos e c√¥micos."},
    {n:11,s:"Filosofia",t:"Segundo Norbert Elias, a morte √© problema dos vivos porque:",opts:["(A) Humanos antecipam a pr√≥pria morte","(B) Mortos deixam d√≠vidas","(C) Morte √© imprevis√≠vel","(D) Animais n√£o morrem","(E) Ci√™ncia n√£o estuda a morte"],ok:0,exp:"Apenas humanos sabem que morrer√£o e tomam precau√ß√µes. Os mortos n√£o t√™m problemas ‚Äî s√≥ os vivos sofrem com a perspectiva da finitude."},
    {n:61,s:"Biologia",t:"23 nomes populares de aves ‚Äî taxonomicamente pertencem a:",opts:["(A) 23 g√™neros","(B) 1 √∫nico g√™nero","(C) 23 esp√©cies em 1 g√™nero","(D) 1 fam√≠lia, sem inferir ordens","(E) 1 classe, sem inferir n¬∫ de g√™neros"],ok:4,exp:"Todas s√£o aves = mesma classe (Aves). Nomes populares ‚â† classifica√ß√£o cient√≠fica. N√£o se infere o n√∫mero de g√™neros."},
    {n:85,s:"Matem√°tica",t:"Sobre T(n)=n(n+1)/2 e O(n)=n(n+1), qual afirma√ß√£o √© CORRETA?",opts:["(A) 162 √© o 15¬∫ triangular","(B) 13¬∫ triangular √© primo","(C) 156 n√£o √© nem um nem outro","(D) 210 √© triangular E oblongo","(E) Diferen√ßa entre triangulares √© PG"],ok:3,exp:"T(20)=210 ‚úì (triangular) e O(14)=210 ‚úì (oblongo). 210 pertence a ambas! Rela√ß√£o: T(n) = O(n)/2."},
    {n:88,s:"Matem√°tica",t:"Renato tem excesso de peso. Probabilidade de ter press√£o elevada:",opts:["(A) 12%","(B) 4%","(C) 50%","(D) 40%","(E) 10%"],ok:3,exp:"P(elevada|excesso) = P(elevada‚à©excesso)/P(excesso) = 10%/25% = 40%. Probabilidade condicional!"},
  ]}
];

const MATS=["Todos","Biologia","Qu√≠mica","F√≠sica","Matem√°tica","Geografia","Hist√≥ria","Literatura","Filosofia","Reda√ß√£o","Ingl√™s"];

// ‚îÄ‚îÄ ESTADO ‚îÄ‚îÄ
let tab="flashcards", subj="Todos", diff=0;
let flipped={}, studied={};
let qIdx=0, qOk=0, qErr=0, qAns=null, qAnswered=false, qDone=false;
let essayTopic=null, essayFB=null, essayLoad=false;
let examAns={};

// ‚îÄ‚îÄ NAVEGA√á√ÉO ‚îÄ‚îÄ
function goTab(t){
  tab=t;
  document.querySelectorAll(".tab").forEach(e=>e.classList.remove("active"));
  document.querySelectorAll(".nav-btn").forEach((b,i)=>b.classList.toggle("active",["flashcards","quiz","essay","exams","stats"][i]===t));
  document.getElementById("tab-"+t).classList.add("active");
  renderFilters();render();
}

function renderFilters(){
  const el=document.getElementById("filters-area");
  if(["essay","exams","stats"].includes(tab)){el.innerHTML="";return;}
  let h=`<div class="filters-bar"><span class="filters-label">Mat√©ria:</span>`;
  MATS.forEach(m=>{const on=subj===m,c=COLORS[m]||"var(--accent)";
    h+=`<button class="filt${on?" on":""}" style="${on?`background:${c}22;border-color:${c};color:${c}`:""}" onclick="setSubj('${m}')">${m}</button>`;});
  h+=`</div><div class="filters-bar" style="margin-bottom:18px"><span class="filters-label">Dificuldade:</span><div class="diff-bar">`;
  [["0","TODOS"],["1","‚òÖ F√°cil"],["2","‚òÖ‚òÖ M√©dio"],["3","‚òÖ‚òÖ‚òÖ Dif√≠cil"]].forEach(([v,l])=>{
    h+=`<button class="diff-btn${diff==v?" on":""}" data-d="${v}" onclick="setDiff(${v})">${l}</button>`;});
  h+=`</div></div>`;
  el.innerHTML=h;
}
function setSubj(s){subj=s;if(tab==="quiz")resetQuiz();renderFilters();render();}
function setDiff(d){diff=d;if(tab==="quiz")resetQuiz();renderFilters();render();}

function render(){
  if(tab==="flashcards")renderCards();
  else if(tab==="quiz")renderQuiz();
  else if(tab==="essay")renderEssay();
  else if(tab==="exams")renderExams();
  else if(tab==="stats")renderStats();
  updateHdr();
}

// ‚îÄ‚îÄ FLASHCARDS ‚îÄ‚îÄ
function getCards(){return CARDS.filter(c=>(subj==="Todos"||c.s===subj)&&(diff==0||c.d==diff));}
function renderCards(){
  const cards=getCards(), total=cards.length, done=cards.filter(c=>studied[c.id]).length;
  const prog=document.getElementById("fc-prog");
  prog.style.display="flex";
  prog.innerHTML=`<div class="pbt-item"><div class="pbt-label">Estudados</div><div class="pbt-val" style="color:#22c55e">${done}</div></div>
    <div class="pbt-item"><div class="pbt-label">Total</div><div class="pbt-val">${total}</div></div>
    <div class="pbt-bar"><div class="pbt-label">Progresso</div>
      <div class="prog-bar" style="margin-top:5px"><div class="prog-fill" style="width:${total?done/total*100:0}%;background:linear-gradient(90deg,#22c55e,#06b6d4)"></div></div>
    </div>`;
  if(!cards.length){document.getElementById("cardsGrid").innerHTML='<div class="empty">Nenhum card para esses filtros.</div>';return;}
  document.getElementById("cardsGrid").innerHTML=cards.map(c=>{
    const f=flipped[c.id], col=COLORS[c.s]||"var(--accent)";
    const dtag=["","‚òÖ F√°cil","‚òÖ‚òÖ M√©dio","‚òÖ‚òÖ‚òÖ Dif√≠cil"][c.d], dcls=["","d1","d2","d3"][c.d];
    return `<div class="card${f?" flip":""}" onclick="flipCard(${c.id})">
      <div class="card-top">
        <span class="stag" style="background:${col}22;color:${col}">${c.s}</span>
        <span class="diff-tag ${dcls}">${dtag}</span>
      </div>
      ${studied[c.id]?`<div class="card-ok">‚úì</div>`:""}
      <p class="card-q">${c.q}</p>
      <div class="card-ans">${c.a}</div>
      <p class="card-hint">Toque para revelar ‚Üí</p>
    </div>`;
  }).join("");
}
function flipCard(id){flipped[id]=!flipped[id];studied[id]=true;renderCards();updateHdr();}

// ‚îÄ‚îÄ QUIZ ‚îÄ‚îÄ
function getQuiz(){return QUIZ.filter(q=>(subj==="Todos"||q.s===subj)&&(diff==0||q.d==diff));}
function renderQuiz(){
  const qs=getQuiz(), wrap=document.getElementById("quizWrap");
  if(!qs.length){wrap.innerHTML='<div class="empty">Nenhuma quest√£o para esses filtros.</div>';return;}
  if(qDone){
    const pct=qOk/qs.length;
    wrap.innerHTML=`<div class="quiz-done">
      <div class="quiz-done-emoji">${pct>=.8?"üèÜ":pct>=.6?"üí™":"üìñ"}</div>
      <h2>Quiz Conclu√≠do!</h2>
      <div class="score" style="color:${pct>=.7?"#22c55e":pct>=.5?"var(--gold)":"var(--red)"}">${qOk}/${qs.length}</div>
      <p>${pct>=.8?"Excelente! Voc√™ domina o conte√∫do.":pct>=.6?"Bom resultado! Revise os erros.":"Continue estudando ‚Äî a persist√™ncia √© o caminho!"}</p>
      <button class="btn" onclick="resetQuiz()">Tentar Novamente</button>
    </div>`;return;
  }
  const q=qs[qIdx], col=COLORS[q.s]||"var(--accent)";
  const dtag=["","‚òÖ F√°cil","‚òÖ‚òÖ M√©dio","‚òÖ‚òÖ‚òÖ Dif√≠cil"][q.d], dcls=["","d1","d2","d3"][q.d];
  const opts=q.opts.map((o,i)=>{
    let cls="opt";
    if(qAnswered){if(i===q.ok)cls+=" ok";else if(i===qAns&&i!==q.ok)cls+=" err";}
    return `<button class="${cls}" onclick="answerQ(${i})" ${qAnswered?"disabled":""}>${o}</button>`;
  }).join("");
  const exp=qAnswered?`<div class="quiz-exp"><strong>üí° Explica√ß√£o:</strong> ${q.exp}<br><small style="opacity:.6;margin-top:4px;display:block">Fonte: ${q.src}</small></div>
    <button class="btn btn-full" onclick="nextQ()">${qIdx+1>=qs.length?"Ver resultado ‚Üí":"Pr√≥xima ‚Üí"}</button>`:"";
  wrap.innerHTML=`
    <div class="quiz-header">
      <div class="quiz-prog"><div class="quiz-prog-fill" style="width:${qIdx/qs.length*100}%"></div></div>
      <div class="quiz-meta">
        <span>Q ${qIdx+1}/${qs.length}</span>
        <span class="ok-c">‚úì${qOk}</span>
        <span class="err-c">‚úó${qErr}</span>
      </div>
    </div>
    <div class="quiz-box">
      <div class="quiz-box-top">
        <div style="display:flex;gap:7px;flex-wrap:wrap">
          <span class="stag" style="background:${col}22;color:${col}">${q.s}</span>
          <span class="diff-tag ${dcls}">${dtag}</span>
        </div>
        <span class="quiz-src">${q.src}</span>
      </div>
      <p class="quiz-q">${q.q}</p>
    </div>
    <div class="opts">${opts}</div>
    <div style="margin-top:12px">${exp}</div>`;
}
function answerQ(i){if(qAnswered)return;qAns=i;qAnswered=true;if(i===getQuiz()[qIdx].ok)qOk++;else qErr++;renderQuiz();updateHdr();}
function nextQ(){const qs=getQuiz();if(qIdx+1>=qs.length)qDone=true;else{qIdx++;qAnswered=false;qAns=null;}renderQuiz();}
function resetQuiz(){qIdx=0;qOk=0;qErr=0;qAnswered=false;qDone=false;qAns=null;renderQuiz();updateHdr();}

// ‚îÄ‚îÄ REDA√á√ÉO ‚îÄ‚îÄ
function renderEssay(){
  const w=document.getElementById("essayWrap");
  if(!essayTopic){
    w.innerHTML=`<div class="section-title">Pr√°tica de Reda√ß√£o</div>
      <div class="section-sub">Escolha um tema e receba corre√ß√£o das 5 compet√™ncias ENEM pela IA</div>
      <div class="essay-grid">${ESSAY_TOPICS.map((t,i)=>`
        <div class="essay-card" onclick="selTopic(${i})">
          <span class="etag" style="background:${t.cor}22;color:${t.cor}">${t.tipo}</span>
          <h4>${t.t}</h4>
          <p>${t.tip}</p>
        </div>`).join("")}</div>`;return;
  }
  const t=essayTopic;
  w.innerHTML=`
    <div class="essay-top">
      <button class="btn-sec" onclick="voltarTemas()">‚Üê Temas</button>
      <h3 style="color:${t.cor};font-family:'Playfair Display',serif;font-size:16px">${t.t}</h3>
      <span class="etag" style="background:${t.cor}22;color:${t.cor}">${t.tipo}</span>
    </div>
    <div class="tip-box"><strong>üí° Dica:</strong> ${t.tip}</div>
    <div class="comp-box"><strong style="margin-right:6px">5 compet√™ncias:</strong>
      <span class="comp-tag">‚ë† Norma culta</span>
      <span class="comp-tag">‚ë° Tema</span>
      <span class="comp-tag">‚ë¢ Argumenta√ß√£o</span>
      <span class="comp-tag">‚ë£ Coes√£o</span>
      <span class="comp-tag">‚ë§ Proposta</span>
    </div>
    <textarea id="essayTA" placeholder="Escreva sua reda√ß√£o aqui... (m√≠nimo 100 caracteres)" oninput="updW()">${window._etxt||""}</textarea>
    <div class="essay-footer">
      <span class="wcount" id="wc">0 palavras ¬∑ 0 linhas</span>
      <button class="btn" id="corrBtn" onclick="corrigir()" disabled>${essayLoad?"‚è≥ Corrigindo...":"üéì Corrigir com IA"}</button>
    </div>
    ${essayFB?`<div class="essay-fb"><h4>üìã Corre√ß√£o ‚Äî 5 Compet√™ncias ENEM</h4><div class="essay-fb-text">${essayFB}</div></div>`:""}`;
  updW();
}
function updW(){
  const ta=document.getElementById("essayTA");if(!ta)return;
  const txt=ta.value;window._etxt=txt;
  const w=txt.split(/\s+/).filter(Boolean).length, l=txt.split("\n").filter(x=>x.trim()).length;
  const wc=document.getElementById("wc");if(wc)wc.textContent=`${w} palavras ¬∑ ${l} linhas`;
  const btn=document.getElementById("corrBtn");
  if(btn){const ok=txt.trim().length>=100&&!essayLoad;btn.disabled=!ok;btn.textContent=essayLoad?"‚è≥ Corrigindo...":"üéì Corrigir com IA";}
}
function selTopic(i){essayTopic=ESSAY_TOPICS[i];essayFB=null;window._etxt="";renderEssay();}
function voltarTemas(){essayTopic=null;essayFB=null;window._etxt="";renderEssay();}
async function corrigir(){
  const ta=document.getElementById("essayTA");
  if(!ta||ta.value.trim().length<100)return;
  essayLoad=true;const txt=ta.value;renderEssay();
  try{
    const res=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json"},
      body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1200,
        system:`Voc√™ √© professor especialista em reda√ß√£o ENEM. Avalie pelas 5 compet√™ncias (0-200 cada, m√°x 1000):\n1. Dom√≠nio da norma culta\n2. Compreens√£o e desenvolvimento do tema\n3. Sele√ß√£o e organiza√ß√£o de argumentos\n4. Mecanismos de coes√£o e coer√™ncia\n5. Proposta de interven√ß√£o respeitando Direitos Humanos\n\nFormato:\n**Nota Total: XXX/1000**\nC1 ‚Äî Norma culta: XX/200 ‚Äî [coment√°rio]\nC2 ‚Äî Tema: XX/200 ‚Äî [coment√°rio]\nC3 ‚Äî Argumenta√ß√£o: XX/200 ‚Äî [coment√°rio]\nC4 ‚Äî Coes√£o: XX/200 ‚Äî [coment√°rio]\nC5 ‚Äî Proposta: XX/200 ‚Äî [coment√°rio]\n\n‚úÖ Pontos fortes:\n- [1]\n- [2]\n\nüìå A melhorar:\n- [1]\n- [2]\n\nEm portugu√™s. Seja construtivo e espec√≠fico.`,
        messages:[{role:"user",content:`Tema: "${essayTopic.t}"\n\nReda√ß√£o:\n${txt}`}]})});
    const data=await res.json();
    essayFB=(data.content&&data.content[0]?.text)||"Erro ao obter feedback.";
    window._etxt=txt;
  }catch(e){essayFB="Erro de conex√£o. Verifique sua internet.";}
  essayLoad=false;renderEssay();
}

// ‚îÄ‚îÄ PROVAS ‚îÄ‚îÄ
function renderExams(){
  const w=document.getElementById("examsWrap");
  const pdfURL="provafase1_exatashumanas.pdf";
  let html=`
    <div class="pdf-hero">
      <h3>üìÑ UNESP 2022 ‚Äî Prova Completa (Exatas & Humanidades)</h3>
      <p>90 quest√µes ¬∑ Biologia, Qu√≠mica, F√≠sica, Matem√°tica, Geografia, Hist√≥ria, Literatura, Ingl√™s, Filosofia</p>
      <div class="pdf-actions">
        <a href="${pdfURL}" download class="pdf-btn-gold">‚¨áÔ∏è Baixar PDF da Prova</a>
        <button class="pdf-action" onclick="togglePDF()"><span id="pdfLbl">üëÅÔ∏è Ver PDF na tela</span></button>
        <a href="${pdfURL}" target="_blank" class="pdf-action">üîó Abrir em nova aba</a>
      </div>
      <div class="pdf-viewer" id="pdfV">
        <iframe src="${pdfURL}" title="UNESP 2022"></iframe>
      </div>
    </div>
    <p style="color:var(--muted);font-size:12px;margin-bottom:20px">‚ö†Ô∏è Para ver o PDF, suba o arquivo <strong>provafase1_exatashumanas.pdf</strong> no mesmo reposit√≥rio GitHub que o index.html.</p>
    <p style="color:var(--muted);font-size:13px;margin-bottom:20px">Quest√µes selecionadas com gabarito e explica√ß√£o. Clique para expandir.</p>
    <div class="exams-grid">`;
  EXAMS.forEach(exam=>{
    const qs=exam.qs.map(q=>{
      const key=exam.id+"_"+q.n, ans=examAns[key], col=COLORS[q.s]||"var(--accent)";
      const opts=q.opts.map((o,i)=>{
        let cls="qopt";
        if(ans!==undefined){if(i===q.ok)cls+=" ok";else if(i===ans&&i!==q.ok)cls+=" err";}
        return `<button class="${cls}" onclick="ansExam('${key}',${i},${q.ok})" ${ans!==undefined?"disabled":""}>${o}</button>`;
      }).join("");
      return `<div class="qitem">
        <div class="qitem-top"><span class="qnum">Q${q.n}</span><span class="stag" style="background:${col}22;color:${col};font-size:10px">${q.s}</span></div>
        <p>${q.t}</p><div class="qopts">${opts}</div>
        <div class="qexp${ans!==undefined?" show":""}" id="exp_${key}">üí° ${q.exp}</div>
      </div>`;}).join("");
    const tags=exam.mats.map(m=>`<span class="stag" style="background:${COLORS[m]||"#fff"}22;color:${COLORS[m]||"#fff"};font-size:10px">${m}</span>`).join("");
    html+=`<div class="exam-card">
      <div class="exam-head">
        <div><span class="exam-badge">UNESP</span><h3 style="color:var(--text);font-size:16px;margin-top:8px">${exam.nome}</h3><p style="color:var(--muted);font-size:11px;margin-top:3px">Exatas & Humanidades</p></div>
        <div class="exam-year" style="color:${exam.cor}">${exam.ano}</div>
      </div>
      <div class="exam-body">
        <div class="exam-stats">
          <div class="estat"><div class="estat-n" style="color:${exam.cor}">${exam.total}</div><div class="estat-l">quest√µes</div></div>
          <div class="estat"><div class="estat-n" style="color:${exam.cor}">${exam.mats.length}</div><div class="estat-l">mat√©rias</div></div>
          <div class="estat"><div class="estat-n" style="color:${exam.cor}">${exam.qs.length}</div><div class="estat-l">aqui</div></div>
        </div>
        <p class="exam-hl">‚ú¶ ${exam.hl}</p>
        <div class="exam-tags">${tags}</div>
        <button class="exam-toggle" onclick="toggleExam('${exam.id}')">üìñ Ver quest√µes selecionadas</button>
        <div class="exam-qs" id="qs_${exam.id}"><div style="margin-top:9px">${qs}</div></div>
      </div>
    </div>`;
  });
  w.innerHTML=html+`</div>`;
}
function togglePDF(){const v=document.getElementById("pdfV"),l=document.getElementById("pdfLbl"),s=v.style.display!=="block";v.style.display=s?"block":"none";l.textContent=s?"üîº Ocultar PDF":"üëÅÔ∏è Ver PDF na tela";}
function toggleExam(id){document.getElementById("qs_"+id).classList.toggle("open");}
function ansExam(key,c,ok){
  if(examAns[key]!==undefined)return;
  examAns[key]=c;renderExams();
  setTimeout(()=>{const e=document.getElementById("exp_"+key);if(e)e.scrollIntoView({behavior:"smooth",block:"nearest"});const id=key.split("_")[0];const el=document.getElementById("qs_"+id);if(el&&!el.classList.contains("open"))el.classList.add("open");},80);
}

// ‚îÄ‚îÄ PROGRESSO ‚îÄ‚îÄ
function renderStats(){
  const w=document.getElementById("statsWrap");
  const tCards=CARDS.length, dCards=Object.keys(studied).length;
  const d1=CARDS.filter(c=>c.d===1), d2=CARDS.filter(c=>c.d===2), d3=CARDS.filter(c=>c.d===3);
  const d1d=d1.filter(c=>studied[c.id]).length, d2d=d2.filter(c=>studied[c.id]).length, d3d=d3.filter(c=>studied[c.id]).length;
  const matS={};
  CARDS.forEach(c=>{if(!matS[c.s])matS[c.s]={t:0,d:0};matS[c.s].t++;if(studied[c.id])matS[c.s].d++;});
  const matRows=Object.entries(matS).map(([s,v])=>{
    const col=COLORS[s]||"var(--accent)", pct=v.t?Math.round(v.d/v.t*100):0;
    return `<div class="mat-row">
      <span class="stag" style="background:${col}22;color:${col};min-width:86px;text-align:center">${s}</span>
      <div style="flex:1">
        <div style="display:flex;justify-content:space-between;font-size:11px;color:var(--muted);margin-bottom:4px"><span>${v.d}/${v.t} cards</span><span style="color:${col};font-weight:700">${pct}%</span></div>
        <div class="prog-bar"><div class="prog-fill" style="width:${pct}%;background:${col}"></div></div>
      </div>
    </div>`;}).join("");
  w.innerHTML=`
    <div class="section-title">Meu Progresso</div>
    <div class="section-sub">Acompanhe sua evolu√ß√£o por mat√©ria e dificuldade</div>
    <div class="stat-grid">
      <div class="stat-card"><div class="stat-num" style="color:var(--accent2)">${dCards}</div><div class="stat-lbl">Cards estudados</div><div class="stat-sub">de ${tCards} total</div></div>
      <div class="stat-card"><div class="stat-num" style="color:#22c55e">${d1d}/${d1.length}</div><div class="stat-lbl">F√°ceis feitos</div></div>
      <div class="stat-card"><div class="stat-num" style="color:var(--gold)">${d2d}/${d2.length}</div><div class="stat-lbl">M√©dios feitos</div></div>
      <div class="stat-card"><div class="stat-num" style="color:var(--red)">${d3d}/${d3.length}</div><div class="stat-lbl">Dif√≠ceis feitos</div></div>
    </div>
    <div class="section-title" style="font-size:15px;margin-bottom:13px">Por Mat√©ria</div>
    ${matRows}`;
}

function updateHdr(){
  const cards=getCards(), done=cards.filter(c=>studied[c.id]).length;
  document.getElementById("stCards").textContent=`${done}/${cards.length}`;
  const qs=getQuiz(), pct=qs.length?Math.round(qOk/qs.length*100):0;
  document.getElementById("stQuiz").textContent=pct+"%";
  document.getElementById("stDiff").textContent=["Todos","F√°cil","M√©dio","Dif√≠cil"][diff];
}

renderFilters();render();
</script>
</body>
</html>
